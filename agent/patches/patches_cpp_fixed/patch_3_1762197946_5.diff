diff --git a/bmpfileheader.cpp b/bmpfileheader.cpp
--- a/bmpfileheader.cpp
+++ b/bmpfileheader.cpp
@@ -3,11 +3,11 @@
-BmpFileHeader::BmpFileHeader() {
+BmpFileHeader::BmpFileHeader(int NZwidth, int height) {
   // Initialize member variables using initialization lists
   bfType = 0; // Initialize bfType
   bfSize = 0; // Initialize bfSize
   bfReserved1 = 0; // Initialize bfReserved1
   bfReserved2 = 0; // Initialize bfReserved2
   bfOffBits = 0; // Initialize bfOffBits
   biSize = 0; // Initialize biSize
   biWidth = 0; // Initialize biWidth
   biHeight = 0; // Initialize biHeight
   biPlanes = 0; // Initialize biPlanes
   biBitCount = 0; // Initialize biBitCount
   biCompression = 0; // Initialize biCompression
-   biSizeImage = 0; // Initialize biSizeImage
+   biSizeImage = NZwidth * height * 4; // Set biSizeImage based on NZwidth and height
   biXPelsPerMeter = 0;
   biYPelsPerMeter = 0;
   biClrUsed = 0;
   biClrImportant = 0;
 }